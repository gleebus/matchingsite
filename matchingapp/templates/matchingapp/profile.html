{% extends "matchingapp/base.html" %}

{% load static %}

{% block head %}
<script src="{% static 'matchingapp/js/profile.js' %}"></script>
<script src="{% static 'matchingapp/js/matches.js' %}"></script>
{% endblock %}

{% block content %}
    <div id="controlsDiv">
    {% if match_status == 0 %}
        <button onclick="requestMatch({{ profile.id }})">Request Match</button>
    {% elif match_status == 1 %}
        <button onclick="manageRequest({{ profile.id }}, 'accept')">Accept Match Request</button>
        <button onclick="manageRequest({{ profile.id }}, 'reject')">Reject Match Request</button>
    {% elif match_status == 2 %}
        <button href="/messages/{{ profile.id }}/">Send message</button>
        <button onclick="deleteMatch({{ profile.id }})">Delete Match</button>
    {% elif match_status == 3 %}
        <button onclick="cancelRequest({{ profile.id }})">Cancel Request</button>
    {% endif %}
    </div>
    <div id="profileDiv">
        <img id="profileImg" src="../..{{ profile.profile_image }}" height="200px">
        <br />
        <label for="name">Name:</label>
        <span id="name">{{ profile.name }}</span>
        <br />
        <label for="dob">Date of Birth:</label>
        <span id="dob">{{ profile.dob }}</span>
        <br />
        <label for="email">Email:</label>
        <span id="email">{{ profile.email }}</span>
        <br />
        <label for="gender">Gender:</label>
        <span id="gender">{{ profile.gender }}</span>
        <br />
        <label for="hobbies">Hobbies:</label>
        <br />
        {% for hobby in profile.hobbies %}
            <p id="{{ hobby }}-label">{{ hobby }}</p>
        {% endfor %}
    </div>
{% endblock %}